{"componentChunkName":"component---src-templates-contrib-template-js","path":"/contributing/how-to-contribute","result":{"data":{"markdownRemark":{"html":"<h2>Overview</h2>\n<p>Each tutorial is a <a href=\"https://jupyter.org/\">Jupyter notebook</a> file. Each notebook is saved in a separate directory within the <code>tutorials/notebooks</code> subdirectory in this project. For an example, let's look at the source notebook of the <a href=\"https://github.com/astropy/astropy-tutorials/tree/main/tutorials/FITS-header/\">FITS-header</a> tutorial. Within <code>tutorials/notebooks/FITS-header</code>, there is a single Jupyter notebook file that contains the text and code for the tutorial, and any small data files used in the tutorial (in this case, a single FITS file). The notebook file is automatically run and converted into a static HTML page (<a href=\"https://learn.astropy.org/tutorials/FITS-header.html\">for example</a>), which is then displayed in the tutorial listing on the main tutorials webpage, <a href=\"http://tutorials.astropy.org\">http://tutorials.astropy.org</a>. Each tutorial notebook file also contains information such as the author's name, month and year it was written, and any other metadata that should be associated with the tutorial.</p>\n<h2>Content Guidelines</h2>\n<h3>Overview</h3>\n<ul>\n<li>Each tutorial should have 3–5 explicit <a href=\"http://tll.mit.edu/help/intended-learning-outcomes\">Learning Goals</a>, demonstrate ~2–3 pieces of functionality relevant to astronomy, and contain 2–3 demonstrations of generic but commonly used functionality (e.g., <code>numpy</code>, <code>matplotlib</code>).</li>\n<li>Each tutorial should roughly follow this progression:\n<ul>\n<li><em>Input/Output</em>: read in some data (use <a href=\"https://astroquery.readthedocs.io/en/latest/\">astroquery</a> where possible to query real astronomical datasets)</li>\n<li><em>Analysis</em>: do something insightful / useful with the data</li>\n<li><em>Visualization</em>: make a pretty figure (use <a href=\"http://docs.astropy.org/en/stable/visualization/\">astropy.visualization</a> where possible)</li>\n</ul>\n</li>\n<li>The tutorials must be compatible with the versions supported by the last major release of the Astropy core package (i.e. Python >= 3.5)</li>\n</ul>\n<h3>Template intro</h3>\n<p>The first cell in every tutorial notebook is used for the title, author list, keywords, and summary and should adhere to the following format:</p>\n<pre><code># Title name\n\n## Authors\nJane Smith, Jose Jones\n\n## Learning Goals\n* Query the ... dataset\n* Calculate ...\n* Display ...\n\n## Keywords\nExample, example, example\n\n## Companion Content\nCarroll &#x26; Ostlie 10.3, Binney &#x26; Tremaine 1.5\n\n## Summary\nIn this tutorial, we will download a data file, do something to it, and then\nvisualize it.\n</code></pre>\n<h3>Code</h3>\n<ul>\n<li>Demonstrate good commenting practice\n<ul>\n<li>Add comments to sections of code that use concepts not included in the Learning Goals</li>\n</ul>\n</li>\n<li>Demonstrate best practices of variable names\n<ul>\n<li>Variables should be all lower case with words separated by underscores</li>\n<li>Variable names should be descriptive, e.g., <code>galaxy_mass</code>, <code>u_mag</code></li>\n</ul>\n</li>\n<li>Use the print function explicitly to display information about variables</li>\n<li>As much as possible, comply with <a href=\"https://www.python.org/dev/peps/pep-0008/\">PEP8</a>.</li>\n<li>As much as possible, comply with Jupyter notebook style guides - <a href=\"https://github.com/spacetelescope/style-guides/blob/master/guides/jupyter-notebooks.md\">STScI style guide</a> and <a href=\"https://jupyter.readthedocs.io/en/latest/development_guide/coding_style.html\">Official Coding Style</a>.</li>\n<li>Imports\n<ul>\n<li>Do not use <code>from package import *</code>; import packages, classes, and functions explicitly</li>\n<li>Follow recommended package name abbreviations:\n<ul>\n<li><code>import numpy as np</code></li>\n<li><code>import matplotlib as mpl</code></li>\n<li><code>import matplotlib.pyplot as plt</code></li>\n<li><code>import astropy.units as u</code></li>\n<li><code>import astropy.coordinates as coord</code></li>\n<li><code>from astropy.io import fits</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Display figures inline using matplotlib's inline backend:\n<ul>\n<li><code>%matplotlib inline # make plots display in notebooks</code></li>\n</ul>\n</li>\n</ul>\n<h3>Narrative</h3>\n<ul>\n<li>Please read through the other tutorials to get a sense of the desired tone and length.</li>\n<li>Use [Markdown formatting](<a href=\"http://jupyter-notebook.readthedocs.io/en/latest/exa\">http://jupyter-notebook.readthedocs.io/en/latest/exa</a> mples/Notebook/Working%20With%20Markdown%20Cells.html) in text cells for formatting, links, latex, and code snippets.</li>\n<li>Titles should be short yet descriptive and emphasize the learning goals of the tutorial. Try to make the title appeal to a broad audience and avoid referencing a specific instrument, catalog, or anything wavelength dependent.</li>\n<li>List all authors' full names (comma separated) and link to GitHub profiles and/or <a href=\"https://orcid.org/\">ORCID iD</a> when relevant.</li>\n<li>Include <a href=\"http://tll.mit.edu/help/intended-learning-outcomes\">Learning Goals</a> at the top as a bulleted list.</li>\n<li>Include Keywords as a comma separated list of topics, packages, and functions demonstrated.</li>\n<li>The first paragraph should give a brief overview of the entire tutorial including relevant astronomy concepts.</li>\n<li>Use the first-person inclusive plural (\"we\"). For example, \"We are going to make a plot which...\", or \"Above, we did it the hard way, but here is the easier way...\"</li>\n<li>Section headings should be in the imperative mood. For example, \"Download the data.\"</li>\n<li>Avoid extraneous words such as \"obviously\", \"just\", \"simply\", or \"easily.\" For example, avoid phrases like \"we just have to do this one thing.\"</li>\n<li>Use <code>&#x3C;div class=\"alert alert-info\">Note&#x3C;/div></code> for Notes and <code>&#x3C;div class=\"alert alert-warning\">Warning&#x3C;/div></code> for Warnings (Markdown supports raw HTML)</li>\n</ul>\n<h2>Procedure for contributing</h2>\n<p>There are two methods for contributing tutorial notebooks.</p>\n<h3>Method One: Submit a Jupyter Notebook using Colaboratory</h3>\n<p>The Learn Astropy project is transitioning to providing interactive editing and feedback for submitted tutorial notebooks via <a href=\"https://colab.research.google.com/\">Colaboratory</a>. Follow this procedure to submit a Jupyter notebook:</p>\n<ul>\n<li>Upload the Jupyter notebook to Google drive</li>\n<li>Right click on the file in your Google drive and select <em>Get shareable link</em>. Click on <em>Share settings</em> and change it so that \"Anyone with a link can edit\". Then copy the url in the box.</li>\n<li><a href=\"https://github.com/astropy/astropy-tutorials/issues\">Open an issue on the astropy-tutorials Github repo</a> and paste the url to your Jupyter notebook.</li>\n</ul>\n<p>Learn Astropy maintainers will respond as soon as possible by downloading your notebook, testing it, and editing the file in your Google drive to conform to the above style guide.</p>\n<p>When the tutorial is ready to be incorporated, Learn Astropy maintainers will open a pull request on behalf of the tutorial authors.</p>\n<h3>Method Two: Submit a Pull Request</h3>\n<p>The process for contributing a tutorial involves the <a href=\"https://help.github.com/articles/working-with-forks/\">GitHub fork</a> and <code>git</code> workflow concepts [branch, push, pull request](<a href=\"https://help.github.com/articles/proposing\">https://help.github.com/articles/proposing</a> -changes-to-your-work-with-pull-requests/).</p>\n<p>To contribute a new tutorial, first fork the <code>astropy-tutorials</code> repository. Then, clone your fork locally to your machine (replace <code>&#x3C;GITHUB USERNAME></code> with your GitHub username):</p>\n<pre><code>git clone git@github.com:&#x3C;GITHUB USERNAME>/astropy-tutorials.git\n</code></pre>\n<p>Next, create a branch in your local repository with the name of the tutorial you'd like to contribute. Let's imagine we're adding a tutorial to demonstrate spectral line fitting -- we might call it \"Spectral-Line-Fitting\":</p>\n<pre><code>git checkout -b Spectral-Line-Fitting\n</code></pre>\n<p>The notebook files must be written as a single Jupyter notebook in a directory within the <code>tutorials/notebooks</code> directory. The name of the notebook must be the same as the subdirectory name. We'll create a new directory in <code>tutorials/notebooks</code> with the same name as the branch:</p>\n<pre><code>mkdir tutorials/notebooks/Spectral-Line-Fitting\n</code></pre>\n<p>All files used by the tutorial -- e.g., example data files, the Jupyter notebook file itself -- should go in this directory.</p>\n<p>Specify the Python packages the tutorial depends on by creating a text file called <code>requirements.txt</code> in the same notebook directory. For example, if your tutorial requires <code>scipy</code> version 1.0 and <code>numpy</code> version 1.13 or greater, your <code>requirements.txt</code> file would look like:</p>\n<pre><code>scipy==1.0\nnumpy>=1.13\n</code></pre>\n<p>To see an example, have a look at the FITS-header [requirements.txt file](https: //github.com/astropy/astropy-tutorials/blob/master/tutorials/notebooks/FITS-head er/requirements.txt).</p>\n<p>Push the notebook and other files from your local branch up to your fork of the repository on GitHub (by default, named 'origin'):</p>\n<pre><code>git push origin Spectral-Line-Fitting\n</code></pre>\n<p>When the tutorial is ready for broader community feedback, <a href=\"https://help.github.com/articles/creating-a-pull-request/\">open a pull request</a> against the main <code>astropy-tutorials</code> repository in order for the community to review the new tutorial.</p>\n<h2>Data Files</h2>\n<h3>For tutorial authors</h3>\n<p>If your tutorial includes large data files (where large means >~ 1 MB), we don't want to include them in the <code>astropy/astropy-tutorials</code> git repository, as that will drastically slow down cloning the repository. Instead, we encourage use of the <code>astropy.utils.download_files</code> function, and will host data files on the <a href=\"http://data.astropy.org\">http://data.astropy.org</a> server by opening a PR at the <a href=\"https://github.com/astropy/astropy-data\">https://github.com/astropy/astropy-data</a> repository, or to use Zenodo to host the data files if the file concerned is larger than 10 MB. To do the former, use the following procedure:</p>\n<ul>\n<li>\n<p>When writing your tutorial, include the files in your tutorial's directory (e.g., <code>tutorials/notebooks/My-tutorial-name/mydatafile.fits</code>). Those who are reviewing your tutorial will have to download them, but they would need them anyway, so it's ok. <strong>IMPORTANT</strong>: when you add or modify data files, make sure the only thing in that commit involves the data files. That is, do <em>not</em> edit your notebook and add/change data files in the same commit. This will make it much easier to remove the data files when your tutorial is actually merged.</p>\n</li>\n<li>\n<p>To actually access your data files in the notebook, do something like this at the top of the notebook:</p>\n<pre><code>from astropy.utils.data import download_file\n\ntutorialpath = ''\nmydatafilename1 = download_file(tutorialpath + 'mydatafile1.fits', cache=True)\nmydatafilename2 = download_file(tutorialpath + 'mydatafile2.dat', cache=True)\n</code></pre>\n<p>And then use them like this:</p>\n<pre><code>fits.open(mydatafilename1)\n...\nwith open(mydatafilename2) as f:\n    ...\n</code></pre>\n<p>If you do this, the only change necessary when merging your notebook will be to set <code>tutorialpath</code> to <code>'http://data.astropy.org/tutorials/My-tutorial-name/'</code>.</p>\n</li>\n</ul>\n<p>For larger data files that are bigger than 10 MB in size, we recommend hosting with Zenodo. To use this approach, follow these steps:</p>\n<ul>\n<li>\n<p>You will need to sign up for an account with Zenodo before you can upload a file there.</p>\n</li>\n<li>\n<p>After a Zenodo account has been properly set up, be sure to log in and do a new upload. Follow the Zenodo instructions and complete all the required fields as the bare minimum in order to have the data file(s) uploaded to their records. Once this is done you will have a link to share the data.</p>\n</li>\n<li>\n<p>With the link to the data file record, which has the format <code>https://zenodo.org/api/records/:id</code>, an example HTTP GET request needed to retrieve the data using the Python package <code>requests</code> is shown below:</p>\n<pre><code>import requests\nr = requests.get(\"https://zenodo.org/api/records/1234)\n</code></pre>\n</li>\n</ul>\n<p>To use the output as a locally stored file, you would first need to write the file contents to a file, for example:</p>\n<pre><code>with open('./some-data-file.fits', 'wb') as f:\n    f.write(r.content)\n</code></pre>\n<p>If you need information or help with:</p>\n<ul>\n<li>previewing how the rendered Jupyter notebooks will look on the tutorial webpage</li>\n<li>marking a cell with an intentional / expected error</li>\n</ul>\n<p>Please see <a href=\"infrastructure\">About the Tutorials Infrastructure</a>.</p>\n<h3>For repository maintainers</h3>\n<p>If this above procedure is followed, you only need to do these three steps when merging your pull request:</p>\n<ol>\n<li>Do <code>git rebase -i</code> and delete the commits that include the data files</li>\n<li>Upload the data files to <code>http://data.astropy.org/tutorials/My-tutorial-name/</code></li>\n<li>Update the <code>tutorialpath</code> variable</li>\n</ol>","frontmatter":{"slug":"/contributing/how-to-contribute","title":"How to contribute tutorials to Learn Astropy"}}},"pageContext":{"slug":"/contributing/how-to-contribute"}},"staticQueryHashes":["1026961441"]}